<!doctype html>
<html lang="en" prefix="og: http://ogp.me/ns#">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- SEO -->
    <title>API Testing 101s: Quick and Easy</title>
    <meta name="description" content="Presentation slides for DevConf.CZ 2020">

    <!-- URL CANONICAL -->
    <!-- <link rel="canonical" href="http://your-url.com/"> -->

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,700,700i%7CMaitree:200,300,400,600,700&amp;subset=latin-ext"
          rel="stylesheet">

    <!-- CSS WebSlides -->
    <link rel="stylesheet" type='text/css' media='all' href="static/css/webslides.css">

    <!-- Optional - CSS SVG Icons (Font Awesome) -->
    <link rel="stylesheet" type='text/css' media='all' href="static/css/svg-icons.css">

    <!-- Adding stylesheet for code hightlights-->
    <link rel="stylesheet" href="./static/highlight/styles/default.css">
    <script src="./static/highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- SOCIAL CARDS (ADD YOUR INFO) -->

    <!-- FACEBOOK -->
    <meta property="og:url" content="http://your-url.com/"> <!-- YOUR URL -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="WebSlides — Making HTML Presentations Easy"> <!-- EDIT -->
    <meta property="og:description"
          content="WebSlides is about telling stories beautifully. Just the essential features. Good karma.">
    <!-- EDIT -->
    <meta property="og:updated_time" content="2017-01-04T17:20:50"> <!-- EDIT -->
    <meta property="og:image" content="static/images/share-webslides.jpg"> <!-- EDIT -->

    <!-- TWITTER -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@webslides"> <!-- EDIT -->
    <meta name="twitter:creator" content="@jlantunez"> <!-- EDIT -->
    <meta name="twitter:title" content="WebSlides — Making HTML Presentations Easy"> <!-- EDIT -->
    <meta name="twitter:description"
          content="WebSlides is about good karma. Just essential features. 120+ free slides ready to use."><!-- EDIT -->
    <meta name="twitter:image" content="static/images/share-webslides.jpg"> <!-- EDIT -->

    <!-- FAVICONS -->
    <link rel="shortcut icon" sizes="16x16" href="static/images/favicons/favicon.png">
    <link rel="shortcut icon" sizes="32x32" href="static/images/favicons/favicon-32.png">
    <link rel="apple-touch-icon icon" sizes="76x76" href="static/images/favicons/favicon-76.png">
    <link rel="apple-touch-icon icon" sizes="120x120" href="static/images/favicons/favicon-120.png">
    <link rel="apple-touch-icon icon" sizes="152x152" href="static/images/favicons/favicon-152.png">
    <link rel="apple-touch-icon icon" sizes="180x180" href="static/images/favicons/favicon-180.png">
    <link rel="apple-touch-icon icon" sizes="192x192" href="static/images/favicons/favicon-192.png">

    <!-- Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#333333">

</head>
<body>
<main role="main">
    <article id="webslides">
        <!-- Quick Guide
          - Each parent <section> in the <article id="webslides"> element is an individual slide.
          - Vertical sliding = <article id="webslides" class="vertical">
          - <div class="wrap"> = container 90% / <div class="wrap size-50"> = 45%;
        -->

        <section>

            <!--.wrap = container (width: 90%) -->
            <div class="wrap alignleft">
                <br>
                <h1><strong>API Testing 101's: Quick and Easy</strong></h1>
                <br>
                <br>
                <br>
                <br>
                <br>
                <h4 class="content-left"><a href="http://anishanarang.com/">Anisha Narang</a><br>
                    Senior Quality Engineer <br>
                    Red Hat Inc. | <a href="https://twitter.com/anisha_narang" title="Twitter">
                        @anisha_narang
                    </a>
                </h4>
                <h3>DevConf.CZ, 2020</h3>


            </div>

            <!-- .end .wrap -->
        </section>

        <section>
            <div class="wrap">
                <h2><strong>Agenda</strong></h2>
                <br>
                <ul>
                    <li>Overview of REST API</li>
                    <li>Introduction to API testing</li>
                    <li>Overview of different API testing frameworks</li>
                    <li>Introduction to LCC framework(lemoncheesecake)</li>
                    <li>Understanding the matchers/assertions available</li>
                    <li>Generating awesome reports</li>
                    <li>Demo</li>
                </ul>
            </div>
        </section>

        <section>
            <!--.wrap = container (width: 90%) -->
            <div class="wrap alignleft">
                <h2><strong>What is REST API?</strong></h2>
                <div>
                    <ul class="flexblock specs">
                        <li><h5>API stands for Application Programming Interface.
                            APIs let your product or service communicate with other products and services without having
                            to know how they’re implemented. </h5></li>
                        <li><h5>REST is an architectural style, or design pattern, for APIs.</h5></li>
                        <li><h5>REST stands for REpresentational State Transfer.
                            It means when a RESTful API is called, the server will transfer to the client a
                            representation of the state of the requested resource.</h5></li>
                        <li><h5>The representation of the state can be in a JSON or XML format</h5></li>
                        <li>
                            <h5><h5 class="bold">API endpoint:</h5> An identifier for the resource you are interested
                                in. This is the URL for the resource, also known as the endpoint.
                            </h5>
                        </li>
                        <li>
                            <h5><h5 class="bold">HTTP method:</h5> The operation you want the server to perform on that
                                resource, in the form of an HTTP method.<br>
                                GET, POST, PUT and DELETE
                            </h5>
                        </li>

                    </ul>
                </div>
                <!-- .end .bg-white shadow -->
            </div>
            <!-- .end .wrap -->
        </section>

        <section>
            <div class="wrap alignleft">
                <h2><strong>What is API Testing?</strong></h2>
                <br>
                <ul class="flexblock specs">
                    <li><h5>API Testing is a software testing type that validates the API(Application Programming
                        Interface) of any application.</h5></li>
                    <li><h5>In short: you send calls to the API and verify the API response.</h5></li>
                </ul>
            </div>
        </section>

        <section>
            <div class="wrap">
                <h2><strong>HTTP methods:</strong></h2>
                <div class="grid">
                    <div class="column">
                        <h3>GET</h3>
                        <p>The GET method is used to retrieve information from the given server using a given URI.
                            Provides READ only access to a resource.</p>
                    </div>
                    <div class="column"><h3>POST</h3>
                        <p>The POST method is used to submit an entity to the specified resource, often causing a change
                            in state or side effects on the server.
                        </p></div>
                    <div class="column"><h3>PUT</h3>
                        <p>Replaces all current representations of the target resource with the uploaded content.</p>
                    </div>
                    <div class="column"><h3>DELETE</h3>
                        <p>The DELETE method deletes the specified resource.</p></div>
                </div>
            </div>
            <!-- .end .wrap -->
        </section>


        <section>
            <!--.wrap = container (width: 90%) -->
            <div class="wrap">
                <h2><strong>Different API testing frameworks</strong></h2>
                <!--div class="grid vertical-align"-->
                <ul>
                    <li>Curl</li>
                    <li>Postman</li>
                    <li>JMeter</li>
                    <li>Karate</li>
                    <li>Pytest</li>
                    <li>but there is more with Python..</li>
                    <li>Let's try out some 'lemoncheesecake' ;)</li>
                </ul>
                <br>


            </div>
        </section>


        <section>
            <div class="wrap">
                <h2><Strong>lemoncheesecake: a functional test framework for Python</strong></h2>
            </div>
        </section>

        <section>
            <div class="wrap">
                <h2><strong>Getting started</strong></h2>
                <br>
                <p class="text-intro"><i>lemoncheesecake</i> can be installed via pip</p>
                <br>
                <pre><code>$ pip install lemoncheesecake
</code></pre>

            </div>
        </section>

        <section>
            <div class="wrap">
                <h2><strong>Writing your test suite</strong></h2>
                <p class="text-intro">Creating a new test project</p>
                <pre><code>$lcc bootstrap test-project</code></pre>
                <p>Creates a new project directory “myproject” containing one file “project.py” (it contains your project settings)
                    and “suites”  and "fixtures" directories for you add your test suites and fixtures.</p>
                <img src="./static/images/project-tree.png">

            </div>

        </section>

        <section>
            <div class="wrap">
                <h2><strong>A suite looks like: </strong></h2>
               <pre><code class="python">
#suites/test_get_request.py

import lemoncheesecake.api as lcc
from lemoncheesecake.matching import *
import requests


SUITE = {
    "description": "Tests for GET /api/modules/:module_id:"
}

url = "https://www.example.com/"
module_id = "id123456"


@lcc.test("Verify that GET request for /api/modules/:module_id: gives a 200 OK")
def test_get_module():
    lcc.set_step("checking for endpoint: /api/modules/" + module_id)
    response = requests.get(url=url + "/api/modules/" + module_id)
    check_that("response code", response.status_code, equal_to(200), quiet=False)


@lcc.test("Verify that GET request for /api/modules/:module_id: contains all the required params")
def test_get_module_response():
    response = requests.get(url=url + "/api/modules/" + module_id)
    result = response.json()
    check_that("the response ", result, has_entry("module"))
    check_that("the response ", result, has_entry("status"))
    check_that("the response ", result, has_entry("message"))
               </code></pre>
            </div>
        </section>

        <section>
            <div class="wrap">
                <h4><strong>Running the test suite: </strong></h4>
                <pre><code>$lcc run
                </code></pre>
                <h4><strong>Console output look like:</strong></h4>
                <img src="./static/images/lcc_run.png">
            </div>
        </section>

        <section>
            <div class="wrap">
                <h2><strong>Matchers </strong></h2>
                <div class="grid vertical-align">
                    <div class="column">
                        <p class="text-intro"> <strong>The matchers </strong></p>
                        <ul>
                            <li>equal_to(expected)</li>
                            <li>not_equal_to(expected)</li>
                            <li>is_true()</li>
                            <li>is_false()</li>
                            <li>is_dict([expected])</li>
                            <li>is_list([expected])</li>
                            <li>has_item(expected)</li>
                            <li>has_entry(expected_key [,expected_value])</li>
                            <li>and there are more...</li>

                        </ul>
                    </div>
                    <div class="column">
                        <p class="text-intro"><strong>The matching operations</strong></p>
                        <ul>
                            <li>check_that(hint, actual, matcher, quiet=False)</li>
                            <li>require_that(hint, actual, matcher, quiet=False)</li>
                            <li>assert_that(hint, actual, matcher, quiet=False)</li>
                        </ul>

                    </div>
                </div>
                <pre><code>data = {"foo": 1, "bar": 2}
check_that("data", data, has_entry("foo", equal_to(1)))
check_that("data", data, has_entry("bar", equal_to(2)))
                </code></pre>
            </div>
        </section>

        <section>
            <div class="wrap">
                <h2><strong>Fixtures</strong></h2>
                <br>

            </div>
        </section>

        <section>
            <div class="wrap">
                <h2>Logging</h2>
                <br>
                <div class="grid sm">
                    <div class="column">
                        <ul class="description">

                            <li><strong>Promises represent the eventual result of an operation.</strong></li>
                            <br>
                            <li> Promises are objects. The Promise object is used for asynchronous computations.</li>
                        </ul>
                    </div>
                    <div class="column">



                    </div>
                </div>
        </section>

        <section>
            <div class="wrap">
                <h2>Generating reports </h2>

                    </div>

                </div>
        </section>

        <section>
            <div class="wrap">
                <h1><strong>Demo</strong></h1>
                <br>
                <br>
                <br>
                <br>
                <p class="text-intro">Code available here: <a href="https://github.com/anarang/protractor101-demo">https://goo.gl/qJBiFH</a>
                </p>
            </div>
        </section>

        <section class="fullscreen slide" style="display: none;">
            <!-- Fullscreen Video -->
            <div class="embed">
                <!--iframe frameborder="0" allowfullscreen="1" allow="autoplay; encrypted-media" title="Demo video" width="640" height="360" src="./images/test-demo-1.mov" id="w"></iframe-->
                <video controls="controls" width="800" height="600"
                       name="Video Name" src="./images/test-demo-1.mov"></video>
            </div>
            <!-- .end .embed -->
        </section>


        <section class="slide-center">
            <div class="wrap">
                <div class="content-center text-serif">
                    <h2>Any questions?</h2>
                    <br>
                    <h1><strong>Thank You :-)</strong></h1>
                    <br>

                    <p><a href="https://twitter.com/anisha_narang" title="Twitter">
                        <svg class="fa-twitter">
                            <use xlink:href="#fa-twitter"></use>
                        </svg>
                        @anisha_narang
                    </a></p>
                    <p>Slides available at: <a href="http://anarang.github.io/protractor_101/#slide=1">http://anarang.github.io/protractor_101/</a>
                    </p>

                </div>
                <!-- .end .content-right -->
            </div>
            <!-- .end .wrap -->
        </section>

    </article>
    <!-- end article -->
</main>
<!-- end main -->

<!-- A global footer

  <footer role="contentinfo">
   <div class="wrap">
     <p>An <a href="https://github.com/webslides/webslides">open source solution</a>, by <a href="https://twitter.com/webslides">@webslides</a>.</p>
   </div>
 </footer>  -->

<!-- Required -->
<script src="static/js/webslides.js"></script>
<script>
      window.ws = new WebSlides();

</script>

<!-- OPTIONAL - svg-icons.js (fontastic.me - Font Awesome as svg icons) -->
<script defer src="static/js/svg-icons.js"></script>

</body>
</html>
